#include<locale.h>
#include<stdio.h>
#include<stdlib.h>
#include<windows.h> //дохуя библиотек
#include<locale.h>


int main() {
setlocale(0, "Rus");
SetConsoleOutputCP(1251); //3 строки для обработки русских символов
SetConsoleCP(1251);
char text[1000], newtext[1000][1000]; //основной текст и конечный
int str = 0, i = 0, j = 0, kof; //объявление переменныъ
while (1) { //бесконечный цикл для ввода текста
gets_s(text, 1000); //ввод строки
if (text[0] == '.') //точка в последней строке без элементов
{ //означает конец
break; //текста
} //


for (i = 0; text[i] != '\0'; i++) { //цикл для посимвольного просмотра строки

newtext[str][i] = text[i]; //присвоение новой строке элемента старой
if ((text[i] == 'а' || text[i] == 'у' || text[i] == 'о' || text[i] == 'ы' || text[i] == 'и' || text[i] == 'э' || text[i] == 'я' || text[i] == 'ю' || text[i] == 'е' || text[i] == 'ё') && text[i] == text[i + 1]) // проверка на двойные гласные
{
for (j = i; text[j] != ' ' && text[j] != '.' && j >= 0; j--) {//запись капсом в новую строку с первой двойной гласной до конца слова
newtext[str][j] = text[j] - 32; //
}
for (i = i; text[i] != ' ' && text[i] != '.'&& text[i] != '\0'; i++) {// запись от первой гласной двойной до начала слова (капсом)
newtext[str][i] = text[i] - 32; //

}
i--; //возраст индекса на 1 (чтобы не потерять точку)
}

}

newtext[str][i + 1] = '\0'; // отметка конца строки терминирующим нулём
str++;//переход на новую строку в новом тексте


}

for (i = 0; i < str; i++) {//цикл под строки нового текста //
for (j = 0; newtext[i][j + 2] != '\0'; j++) {//цикл для элементов строки //вывод
printf("%c", newtext[i][j]);//посимвольный вывод //
} //
printf(".");//поставить точку в конечном предложении строки //
printf("\n"); //
}
system("pause");
return 0;
}
